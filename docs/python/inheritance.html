<!DOCTYPE html>
<html lang="ru">
	<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5">
	<meta name="description" content="IT простым языком">
	<meta name="generator" content="HUGO">

	<meta name="theme-color" content="#ffffff">

    
    <link rel="stylesheet" href="/sass/main.min.css">
    <title> IT простым языком </title>
</head>

<body>
	<div id="top"/>
<header>
    <div align="center">
        +---------------------------+<br>
        |.-------------------------.|<br>
        ||&nbsp;<a href="/">kee_reel@blog</a>:~$ cd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;||<br>
        ||&nbsp;<a href="/c">c</a>&nbsp;&nbsp;<a href="/cpp">c++</a>&nbsp;&nbsp;<a href="/python">python</a>&nbsp;&nbsp;<a href="/linux">linux</a>&nbsp;&nbsp;&nbsp;||<br>
        ||&nbsp;<a href="/opengl">opengl</a>&nbsp;&nbsp;<a href="/sql">sql</a>&nbsp;&nbsp;<a href="/network">networks</a>&nbsp;&nbsp;&nbsp;||<br>
        ||&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;||<br>
        ||&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="/about">обо_мне</a>&nbsp;||<br>
        |.-------------------------.|<br>
        +-::---------------------::-+<br>
        .---------------------------.<br>
        &nbsp;//&nbsp;/o<a href="/links">o</a>oooooooooooooooooooo\\&nbsp;\\&nbsp;<br>
        &nbsp;//&nbsp;/oooooooooooooooooooooooo\\&nbsp;\\&nbsp;<br>
        //-------------------------------\\<br>
        \\-------------------------------//<br>
    </div>
    <hr>
</header>

		
	<div id="wrapper">
		<div class="container">
			<section id="main_content">
    
    
        <div style="display: flex; justify-content: space-between;">
            
                <a href="https://kee-reel.com/python/polymorphism.html">◀ Полиморфизм</a>
            
            
                <a href="https://kee-reel.com/python/incapsulation.html">Инкапсуляция ▶</a>
            
        </div>
        <hr>
    
    <h1>Python. Наследование классов</h1>
    
    
        <h3>Время чтения: 4 мин</h3>
    
    <blockquote>
<p>Эта статья является составной частью <a href="../oop">статьи про ООП</a> &ndash; если ты хочешь понять всю картину, то лучше начать с неё.</p>
</blockquote>
<p><strong>Наследование</strong> &ndash; позволяет связать разные классы в иерархию таким образом, что мы можем в старших классах определить базовые функции, и переиспользовать их во всех классах наследниках.</p>
<p>Вот пример наследования:</p>
<p><img src="/assets/images/python-classes-inheritance.png" alt="Наследование"></p>
<p>У нас есть базовый класс Seat:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Seat</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">seat</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">seat</span> <span class="o">=</span> <span class="n">seat</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">take_a_seat</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">desc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_description</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Ты сел на </span><span class="si">{</span><span class="n">desc</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">get_description</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;сиденье из </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">seat</span><span class="si">}</span><span class="s1">&#39;</span>
</span></span></code></pre></div><p>В классе Seat есть:</p>
<ul>
<li>Поле seat &ndash; строка, с названием материала сиденья</li>
<li>Метод <code>take_a_seat</code> &ndash; метод, который выводит строку, с описанием на что мы сели</li>
<li>Метод <code>get_description</code> &ndash; метод, который возвращает строку с описанием того, на что мы сели</li>
</ul>
<p>Круто, но на сиденьи не получится нормально посидеть &ndash; введём класс Tabouret, отнаследованный от класса Seat:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># В скобочках указываем родительский класс Seat</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Tabouret</span><span class="p">(</span><span class="n">Seat</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">seat</span><span class="p">,</span> <span class="n">legs</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">Seat</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">seat</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">legs</span> <span class="o">=</span> <span class="n">legs</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># Переопределяем родительский метод get_description</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">get_description</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;табурет у которого </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">legs</span><span class="si">}</span><span class="s1"> ножки, а сиденье из </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">seat</span><span class="si">}</span><span class="s1">&#39;</span>
</span></span></code></pre></div><blockquote>
<p>Обрати внимание, что мы вызываем конструктор базового класса:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">Seat</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">seat</span><span class="p">)</span>
</span></span></code></pre></div><p>Туда надо передать self (текущий объект) и все параметры, необходимые для этого конструктора.
Если не вызвать конструктор базового класса, то он не вызовется и никакие поля базового класса не заполнятся.</p>
</blockquote>
<p>Класс <strong>Tabouret</strong>:</p>
<ul>
<li>Добавляет поле legs &ndash; число ножек</li>
<li>Переопределяет метод get_description &ndash; теперь, если у объекта класса Tabouret вызвать метод get_description, то вызовется его реализация из класса Tabouret, а не из класса Seat</li>
<li>Поле seat и метод take_a_seat наследуются из класса Seat</li>
</ul>
<blockquote>
<p>Переопределение метода родительского класса это тоже важное понятие &ndash; запомни его.</p>
</blockquote>
<p>А как сделать стул? Введём класс Chair и отнаследуем от класса Tabouret:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Chair</span><span class="p">(</span><span class="n">Tabouret</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">seat</span><span class="p">,</span> <span class="n">legs</span><span class="p">,</span> <span class="n">back</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">Tabouret</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">seat</span><span class="p">,</span> <span class="n">legs</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">back</span> <span class="o">=</span> <span class="n">back</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">get_description</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;стул у которого </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">legs</span><span class="si">}</span><span class="s1"> ножки, сиденье из </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">seat</span><span class="si">}</span><span class="s1">, а спинка из </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">back</span><span class="si">}</span><span class="s1">&#39;</span>
</span></span></code></pre></div><p>Класс <strong>Chair</strong>:</p>
<ul>
<li>Добавляет поле _back &ndash; строка, с названием материала спинки</li>
<li>Переопределяет метод get_description &ndash; теперь, если у объекта класса Chair вызвать метод get_description, то вызовется его реализация из класса Chair, а не из класса Tabouret</li>
<li>Поле legs наследуются из класса Tabouret</li>
<li>Поле seat и метод take_a_seat наследуются из класса Seat</li>
</ul>
<p>А что с диваном? Введём класс Couch и отнаследуем его от класса Seat:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Couch</span><span class="p">(</span><span class="n">Seat</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">seat</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">Seat</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">seat</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">get_description</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;диван из </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">seat</span><span class="si">}</span><span class="s1">&#39;</span>
</span></span></code></pre></div><p>Классы Couch и Chair имеют общий родительский класс Seat, но в остальном обладают разными свойствами.</p>
<p>Класс <strong>Couch</strong>:</p>
<ul>
<li>Переопределяет метод get_description &ndash; теперь, если у объекта класса Couch вызвать метод get_description, то вызовется его реализация из класса Couch, а не из класса Seat</li>
</ul>
<p>Давай теперь создадим объекты каждого класса, и попробуем дёрнуть их методы take_a_seat:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">seat</span> <span class="o">=</span> <span class="n">Seat</span><span class="p">(</span><span class="s1">&#39;паралона&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">tabouret</span> <span class="o">=</span> <span class="n">Tabouret</span><span class="p">(</span><span class="s1">&#39;металла&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">chair</span> <span class="o">=</span> <span class="n">Chair</span><span class="p">(</span><span class="s1">&#39;дерева&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;дерева&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">couch</span> <span class="o">=</span> <span class="n">Couch</span><span class="p">(</span><span class="s1">&#39;экокожи&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">seat</span><span class="o">.</span><span class="n">take_a_seat</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Вывод: Ты сел на сиденье из паралона</span>
</span></span><span class="line"><span class="cl"><span class="n">tabouret</span><span class="o">.</span><span class="n">take_a_seat</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Вывод: Ты сел на табурет у которого 3 ножки, а сиденье из металла</span>
</span></span><span class="line"><span class="cl"><span class="n">chair</span><span class="o">.</span><span class="n">take_a_seat</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Вывод: Ты сел на стул у которого 4 ножки, сиденье из дерева, а спинка из дерева</span>
</span></span><span class="line"><span class="cl"><span class="n">couch</span><span class="o">.</span><span class="n">take_a_seat</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Вывод: Ты сел на диван из экокожи</span>
</span></span></code></pre></div><p>Окей, а зачем мы это всё сделали?</p>
<h3 id="тебе-не-надо-дублировать-одинаковую-логику-в-разных-классах----логика-пишется-один-раз-в-родительском-классе-и-переиспользуется-во-всех-дочерних-классах">Тебе не надо дублировать одинаковую логику в разных классах &ndash; логика пишется один раз в родительском классе, и переиспользуется во всех дочерних классах.</h3>
<p>Например, я захочу поменять вид строки в take_a_seat &ndash; для этого я залезу в код класса Seat:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">take_a_seat</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">desc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_description</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Ты испытываешь нестерпимое желание сесть на </span><span class="si">{</span><span class="n">desc</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span></span></code></pre></div><p>И, не меняя ничего другого, у меня изменится вывод для всех других классов:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">seat</span><span class="o">.</span><span class="n">take_a_seat</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Вывод: Ты испытываешь нестерпимое желание сесть на сиденье из паралона</span>
</span></span><span class="line"><span class="cl"><span class="n">tabouret</span><span class="o">.</span><span class="n">take_a_seat</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Вывод: Ты испытываешь нестерпимое желание сесть на табурет у которого 3 ножки, а сиденье из металла</span>
</span></span><span class="line"><span class="cl"><span class="n">chair</span><span class="o">.</span><span class="n">take_a_seat</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Вывод: Ты испытываешь нестерпимое желание сесть на стул у которого 4 ножки, сиденье из дерева, а спинка из дерева</span>
</span></span><span class="line"><span class="cl"><span class="n">couch</span><span class="o">.</span><span class="n">take_a_seat</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Вывод: Ты испытываешь нестерпимое желание сесть на диван из экокожи</span>
</span></span></code></pre></div><p>Это очень удобно, если работаешь со множеством классов.</p>
<h1 id="заключение">Заключение</h1>
<p>Итого, мы изучили:</p>
<ul>
<li>Наследование</li>
<li>Родительский класс</li>
<li>Дочерний класс</li>
<li>Конструктор родительского класса</li>
<li>Переопределение метода</li>
</ul>
<p>И, ещё раз, смысл наследования:</p>
<h3 id="тебе-не-надо-дублировать-одинаковую-логику-в-разных-классах----логика-пишется-один-раз-в-родительском-классе-и-переиспользуется-во-всех-дочерних-классах-1">Тебе не надо дублировать одинаковую логику в разных классах &ndash; логика пишется один раз в родительском классе, и переиспользуется во всех дочерних классах.</h3>
<p>Если что &ndash; пиши, я помогу и постараюсь объяснить лучше.</p>
<p>Если ты ещё полон сил, то вернись к <a href="../oop">статье про ООП</a>, и продолжи постижение ООП.</p>

    <hr>
    <div align="center">
        <a href="https://kee-reel.com/python/inheritance.html#top">▲ В начало ▲</a>
    </div>
    
        <hr>
        <div style="display: flex; justify-content: space-between;">
            
                <a href="https://kee-reel.com/python/polymorphism.html">◀ Полиморфизм</a>
            
            
                <a href="https://kee-reel.com/python/incapsulation.html">Инкапсуляция ▶</a>
            
        </div>
    

			</section>
		</div>
	</div>

    <footer>
    <hr>
    <div align="center">
        Home server: Raspberry Pi 4<br>
        Temperature: 51<br>
Uptime: 5 hours, 12 minutes
    </div>
</footer>

</body>
</html>
